@model Sopro.ViewModels.ScenarioCreateViewModel
<form asp-controller="Infrastructure" asp-action="EditLocation" asp-route-id="@Model.sclocation.location.id">

    <div class="form-group">
        <label for="@Model.sclocation.name">Der Name des Standorts</label>
        <div class="input-group">
            <input class="form-control" placeholder="@Model.sclocation.location.name" asp-for="@Model.sclocation.name" />
        </div>
    </div>
    <div class="form-group">

        <label for="@Model.sclocation.emergency">Notreserve</label>
        <div class="input-group">
            <input class="form-control" type="number" placeholder="@Model.sclocation.location.emergency" asp-for="@Model.sclocation.emergency" max="1" min="0" step="0.001" />
        </div>
    </div>
    <div class="form-group input-append date form_datetime">
        <label for="@Model.sclocation.distributionTime">Verteilzeitpunkt MEZ</label>
        <input type="time" class="form-control" placeholder="@Model.sclocation.location.normalizedDistributionTime.Hour:@Model.sclocation.location.normalizedDistributionTime.Minute" asp-for="@Model.sclocation.distributionTime" />
    </div>
    <div id=" zoneContainer">
       @await Html.PartialAsync("_newZone", @Model)
    </div>

</form>
@foreach (Sopro.Models.Infrastructure.Zone zone in Model.location.zones)
{
    <div class="card mt-3 mb-1">
        <div class="card-header">
            <div class="d-flex">
                <h4><b>Zone @zone.site</b></h4>
                <div class="ml-auto">
                    <form methode="post" asp-controller="Infrastructure" asp-action="EditZone" asp-route-id="@Model.sclocation.location.id" asp-route-site="@zone.site">
                        <button class="btn btn-link"><img src="~/bootstrap-icons/pencil-square.svg" width="20" /></button>
                    </form>
                </div>
                <div class="ml-2">
                    <form methode="post" asp-controller="Infrastructure" asp-action="DeleteZone" asp-route-id="@Model.sclocation.location.id" asp-route-site="@zone.site">
                        <button class="btn btn-link"><img src="~/bootstrap-icons/trash.svg" width="20" /></button>
                    </form>
                </div>
            </div>
        </div>
        <div class="d-flex">
            @foreach (Sopro.Models.Infrastructure.Station s in zone.stations)
            {
                <div class="card-body d-inline-flex flex-wrap">
                    <div class="flex-column border rounded ml-1 mr-2 my-2 py-3 px-2">
                        <h4 class="text-sm-center">Station 1</h4>
                        <hr />
                        <div class="d-inline-flex">
                            <div class="flex-column">
                                <div>CCS</div>
                                <div class="mb-3">Type-2-plugs</div>
                                <div class="mb-3">Gleichzeitig nutzbar</div>
                                <div>Leistung</div>
                            </div>
                            <div class="flex-column ml-4">
                                @{ int ccs = 0;
                                    int type2 = 0;
                                }
                                @foreach (Sopro.Models.Infrastructure.Plug p in s.plugs)
                                {
                                    if (p.type.Equals(Sopro.Models.Infrastructure.PlugType.CCS))
                                    {
                                        ccs++;
                                    }
                                    else
                                    {
                                        type2++;
                                    }
                                }
                                <div>@ccs</div>
                                <div class="mb-3">@type2</div>
                                <div class="mb-3">@s.maxParallelUseable</div>
                                <div>@s.maxPower kW</div>
                            </div>
                        </div>
                    </div>



                </div>
            }
        </div>
    </div>
}